<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tech Taboo â€“ Rules</title>
  <link rel="stylesheet" href="./css/taboo.css" />


</head>

<body class="rules-page">
  <header class="app-header">
    <span class="app-title">ðŸŽ¯ Tech Taboo</span>
  </header>

  <main class="app-main">
    <div class="rules">
      <p>One person <strong>explains</strong> the word on screen.</p>
      <p>Do <span class="highlight">NOT</span> use the forbidden words.</p>
      <p>The audience <strong>guesses</strong> the term.</p>
      <p>If a forbidden word is spoken â†’ <span class="highlight">skip the card</span>.</p>
      <p>Hints and analogies are allowed. Buzzwords are not.</p>
    </div>

    <select id="deckSelect"></select>

    <label class="timer-setting">
      Timer:
      <select id="timerSelect">
        <option value="30">30 seconds</option>
        <option value="60">1 minute</option>
        <option value="120" selected>2 minutes</option>
      </select>
    </label>


    <div>
      <a class="start-game" href="./taboo.html" id="startGame">Start Game</a>
    </div>
  </main>

  <footer class="app-footer">
    <span class="footer-text">Explain concepts. Avoid buzzwords.</span>
  </footer>
  </div>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const select = document.getElementById("deckSelect");
      const startBtn = document.getElementById("startGame");
      const timerSelect = document.getElementById("timerSelect");

      // restore saved value
      const savedTimer = localStorage.getItem("timerDuration");
      if (savedTimer) timerSelect.value = savedTimer;

      fetch("./decks/index.json")
        .then(res => res.json())
        .then(data => {
          data.decks.forEach(deck => {
            const option = document.createElement("option");
            option.value = deck.key;
            option.textContent = deck.name;
            select.appendChild(option);
          });
        })
        .catch(err => console.error("Deck load failed:", err));

      startBtn.addEventListener("click", () => {
        localStorage.setItem("selectedDeck", select.value);
        localStorage.setItem("timerDuration", timerSelect.value);
      });
    });
  </script>


</body>

</html>